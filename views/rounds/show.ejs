<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head.ejs')%> <%-
    include('../partials/functions.ejs')%>
  </head>
  <body>
    <div class="bg-container">
      <%- include('../partials/nav.ejs') %>
      <div class="container">
        <h1 id="lg-heading"><%= round.course %></h1>

        <div id="show-details" class="new-form">
          <table>
            <thead>
              <tr>
                <th id="show-head"><label for="date">DATE</label></th>
                <th><label for="handicap">HANDICAP</label></th>
                <th><label for="netscore">NET SCORE</label></th>

                <th><label for="final">FINAL</label></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><p><%= convertDate(round.date) %></p></td>
                <td><p><%= round.handicap %></p></td>
                <td>
                  <p name="netscore">
                    <%= round.score.reduce((acc, value) => { return acc + value;
                    }) - round.handicap%>
                  </p>
                </td>
                <td>
                  <p name="final">
                    <%= round.score.reduce((acc, value) => { return acc + value;
                    }) - round.handicap - round.par.reduce((acc, value) => {
                    return acc + value; }) %>
                  </p>
                </td>
              </tr>
            </tbody>
            <br />
          </table>
        </div>
        <div id="form-performance" class="new-form">
          <div id="show-grid" class="grid">
            <p class="grid-item">HOLE</p>
            <% for(let i = 0; i < 18; i++){ %>
            <p class="grid-item"><%= i + 1%></p>
            <% } %>
            <p class="grid-item">TOTAL</p>
            <label for="par" class="grid-item">PAR</label>
            <% for(let i = 0; i < par.length; i++){ %>
            <p class="grid-item"><%= par[i] %></p>
            <% } %>
            <p class="grid-item">
              <%= round.par.reduce((acc, value) => { return acc + value; })%>
            </p>
            <label for="score" class="grid-item">SCORE</label>
            <% for(let i = 0; i < score.length; i++){ %>
            <p class="grid-item"><%= score[i] %></p>
            <% } %>
            <p class="grid-item">
              <%= round.score.reduce((acc, value) => { return acc + value; })%>
            </p>
          </div>
        </div>
        <!-- submit -->
        <a id="edit" href="/tracker/<%=round._id%>/edit">Edit</a>
        <form
          id="form-delete"
          action="/tracker/<%=round._id%>?_method=DELETE"
          method="POST"
        >
          <input id="delete" type="submit" value="Delete" />
        </form>

        <a id="returnDash" href="/tracker">Return to dashboard</a>
      </div>
    </div>
  </body>
</html>
